<div class="dynamic-form-wrapper">
    <div
        style="
            height: 100%;
            overflow: auto;
            padding: 0 20px 17.5px;
            background: #f5f6fa;
        "
    >
        <p-tabView>
            <p-tabPanel header="General">
                <sidebar-section
                    title="Elements"
                    subTitle="Drag a element type to one of the section on the right to create a
                custom element for your needs."
                    ><div
                        style="
                            display: grid;
                            grid-template-columns: repeat(3, 1fr);
                            gap: 8px;
                        "
                    >
                        <form-field-item
                            name="Form"
                            pDraggable
                            (onDrag)="drag($event, 'drop-section')"
                            (onDragEnd)="dragEnd($event)"
                            (onDragStart)="dragStart($event, 'Form')"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="16"
                                height="16"
                                fill="#696969"
                                viewBox="0 0 256 256"
                            >
                                <path
                                    d="M104,32H64A16,16,0,0,0,48,48V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,104,32Zm0,176H64V48h40ZM192,32H152a16,16,0,0,0-16,16V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,192,32Zm0,176H152V48h40Z"
                                ></path>
                            </svg> </form-field-item
                        ><form-field-item
                            name="Table"
                            pDraggable
                            (onDrag)="drag($event, 'drop-section')"
                            (onDragEnd)="dragEnd($event)"
                            (onDragStart)="dragStart($event, 'Table')"
                        >
                            <svg
                                width="16"
                                height="13"
                                viewBox="0 0 16 13"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M15.5294 0H0.470588C0.34578 0 0.226084 0.0495796 0.137832 0.137832C0.0495796 0.226084 0 0.34578 0 0.470588V11.1373C0 11.4285 0.115686 11.7078 0.321608 11.9137C0.527531 12.1196 0.806821 12.2353 1.09804 12.2353H14.902C15.1932 12.2353 15.4725 12.1196 15.6784 11.9137C15.8843 11.7078 16 11.4285 16 11.1373V0.470588C16 0.34578 15.9504 0.226084 15.8622 0.137832C15.7739 0.0495796 15.6542 0 15.5294 0ZM0.941177 4.70588H4.39216V7.52941H0.941177V4.70588ZM5.33333 4.70588H15.0588V7.52941H5.33333V4.70588ZM15.0588 0.941177V3.76471H0.941177V0.941177H15.0588ZM0.941177 11.1373V8.47059H4.39216V11.2941H1.09804C1.05644 11.2941 1.01654 11.2776 0.98712 11.2482C0.957703 11.2188 0.941177 11.1789 0.941177 11.1373ZM14.902 11.2941H5.33333V8.47059H15.0588V11.1373C15.0588 11.1789 15.0423 11.2188 15.0129 11.2482C14.9835 11.2776 14.9436 11.2941 14.902 11.2941Z"
                                    fill="#656565"
                                />
                            </svg>
                        </form-field-item></div
                ></sidebar-section>

                <sidebar-section
                    title="Fields"
                    subTitle="Drag a field type to one of the sections on the right to create a
        custom field for your needs."
                    ><div
                        style="
                            display: grid;
                            grid-template-columns: repeat(3, 1fr);
                            gap: 8px;
                        "
                    >
                        <form-field-item
                            name="Input Text"
                            pDraggable
                            (onDrag)="drag($event, 'drop-form')"
                            (onDragEnd)="dragEnd($event)"
                            (onDragStart)="
                                dragStart($event, 'Input Text', 'drop-form')
                            "
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="28"
                                height="10"
                                viewBox="0 0 28 10"
                                fill="none"
                            >
                                <rect
                                    x="0.424242"
                                    y="0.424242"
                                    width="27.1515"
                                    height="9.15152"
                                    rx="1.27273"
                                    stroke="#656565"
                                    stroke-width="0.848485"
                                />
                                <rect
                                    x="2.79547"
                                    y="2.79492"
                                    width="0.5"
                                    height="4.5"
                                    rx="0.25"
                                    fill="#9F9F9F"
                                    stroke="#656565"
                                    stroke-width="0.5"
                                /></svg
                        ></form-field-item>
                        <form-field-item
                            name="Dropdown"
                            pDraggable
                            (onDrag)="drag($event, 'drop-form')"
                            (onDragEnd)="dragEnd($event)"
                            (onDragStart)="
                                dragStart($event, 'Dropdown', 'drop-form')
                            "
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="28"
                                height="10"
                                viewBox="0 0 28 10"
                                fill="none"
                            >
                                <rect
                                    x="0.424242"
                                    y="0.424242"
                                    width="27.1515"
                                    height="9.15152"
                                    rx="1.27273"
                                    stroke="#656565"
                                    stroke-width="0.848485"
                                />
                                <path
                                    d="M22.5188 6.33352C22.7327 6.70393 23.2673 6.70393 23.4812 6.33352L24.9247 3.83322C25.1386 3.4628 24.8713 2.99978 24.4435 2.99978H21.5565C21.1287 2.99978 20.8614 3.4628 21.0753 3.83322L22.5188 6.33352Z"
                                    fill="#656565"
                                /></svg
                        ></form-field-item>
                        <form-field-item
                            name="Number"
                            pDraggable
                            (onDrag)="drag($event, 'drop-form')"
                            (onDragEnd)="dragEnd($event)"
                            (onDragStart)="
                                dragStart($event, 'Number', 'drop-form')
                            "
                            ><svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="28"
                                height="10"
                                viewBox="0 0 28 10"
                                fill="none"
                            >
                                <rect
                                    x="0.424242"
                                    y="0.424242"
                                    width="27.1515"
                                    height="9.15152"
                                    rx="1.27273"
                                    stroke="#656565"
                                    stroke-width="0.848485"
                                />
                                <path
                                    d="M8.93581 7.00067C8.83295 7.00067 8.75185 6.97298 8.69251 6.91759C8.63713 6.85825 8.60944 6.77913 8.60944 6.68023C8.60944 6.57737 8.63713 6.50023 8.69251 6.4488C8.75185 6.39737 8.83295 6.37166 8.93581 6.37166H9.60043V3.45803H9.96834L9.09603 3.98616C9.02086 4.02968 8.94966 4.04748 8.8824 4.03957C8.81911 4.0277 8.76372 4.00001 8.71625 3.95649C8.67273 3.90902 8.64306 3.85364 8.62724 3.79034C8.61141 3.72704 8.61537 3.66375 8.63911 3.60045C8.6668 3.5332 8.71823 3.47781 8.79339 3.4343L9.61229 2.94177C9.69141 2.8943 9.77053 2.85474 9.84966 2.82309C9.92878 2.78748 10.002 2.76968 10.0692 2.76968C10.1523 2.76968 10.2215 2.79342 10.2769 2.84089C10.3323 2.88441 10.36 2.95759 10.36 3.06045V6.37166H10.9653C11.0681 6.37166 11.1472 6.39737 11.2026 6.4488C11.262 6.50023 11.2916 6.57737 11.2916 6.68023C11.2916 6.78309 11.262 6.86221 11.2026 6.91759C11.1472 6.97298 11.0681 7.00067 10.9653 7.00067H8.93581Z"
                                    fill="#656565"
                                />
                                <path
                                    d="M13.0102 7.00067C12.8836 7.00067 12.7906 6.97298 12.7313 6.91759C12.6759 6.85825 12.6482 6.7732 12.6482 6.66243C12.6482 6.59518 12.666 6.5299 12.7016 6.4666C12.7372 6.40331 12.7887 6.33605 12.8559 6.26485L14.0487 4.99496C14.2306 4.80507 14.3612 4.63298 14.4403 4.47869C14.5194 4.32045 14.559 4.16221 14.559 4.00397C14.559 3.80616 14.4957 3.65583 14.3691 3.55298C14.2465 3.45012 14.0665 3.39869 13.8291 3.39869C13.6946 3.39869 13.5601 3.41847 13.4256 3.45803C13.2911 3.49364 13.1546 3.55693 13.0161 3.64792C12.9449 3.69539 12.8777 3.71518 12.8144 3.70726C12.755 3.69935 12.7016 3.67364 12.6542 3.63012C12.6106 3.5866 12.581 3.5332 12.5651 3.4699C12.5493 3.4066 12.5513 3.34331 12.5711 3.28001C12.5948 3.21276 12.6423 3.15539 12.7135 3.10792C12.8836 2.9932 13.0735 2.90616 13.2832 2.84682C13.4968 2.78748 13.7104 2.75781 13.924 2.75781C14.2247 2.75781 14.4779 2.80331 14.6836 2.8943C14.8893 2.98528 15.0456 3.11781 15.1524 3.29188C15.2592 3.46594 15.3126 3.67759 15.3126 3.92682C15.3126 4.09298 15.2849 4.25518 15.2295 4.41342C15.1781 4.57166 15.097 4.73188 14.9862 4.89408C14.8794 5.05627 14.739 5.22836 14.5649 5.41034L13.4493 6.57342V6.37166H15.1939C15.3007 6.37166 15.3818 6.39737 15.4372 6.4488C15.4926 6.50023 15.5203 6.57737 15.5203 6.68023C15.5203 6.78309 15.4926 6.86221 15.4372 6.91759C15.3818 6.97298 15.3007 7.00067 15.1939 7.00067H13.0102Z"
                                    fill="#656565"
                                />
                                <path
                                    d="M18.129 7.06001C17.9153 7.06001 17.6938 7.03232 17.4644 6.97693C17.2349 6.92155 17.0351 6.83847 16.865 6.7277C16.7859 6.67627 16.7325 6.61693 16.7048 6.54968C16.6771 6.48243 16.6692 6.41913 16.6811 6.35979C16.6969 6.29649 16.7266 6.24309 16.7701 6.19957C16.8175 6.15605 16.8749 6.13034 16.9422 6.12243C17.0134 6.11452 17.0905 6.13232 17.1736 6.17583C17.3358 6.26287 17.4921 6.32616 17.6424 6.36572C17.7927 6.40133 17.947 6.41913 18.1052 6.41913C18.2793 6.41913 18.4257 6.3954 18.5444 6.34792C18.663 6.30045 18.7521 6.22924 18.8114 6.1343C18.8747 6.03935 18.9063 5.92463 18.9063 5.79012C18.9063 5.59232 18.8391 5.44594 18.7046 5.351C18.574 5.2521 18.3822 5.20265 18.129 5.20265H17.7492C17.6384 5.20265 17.5534 5.17496 17.494 5.11957C17.4386 5.06419 17.411 4.98704 17.411 4.88814C17.411 4.78924 17.4386 4.7121 17.494 4.65671C17.5534 4.60133 17.6384 4.57364 17.7492 4.57364H18.0578C18.2081 4.57364 18.3367 4.5499 18.4435 4.50243C18.5503 4.451 18.6334 4.37979 18.6927 4.2888C18.7521 4.19781 18.7817 4.08704 18.7817 3.95649C18.7817 3.77452 18.7204 3.63605 18.5978 3.54111C18.4791 3.44616 18.305 3.39869 18.0756 3.39869C17.9292 3.39869 17.7907 3.41649 17.6602 3.4521C17.5336 3.48375 17.3932 3.54507 17.2389 3.63605C17.1677 3.67957 17.0984 3.69737 17.0312 3.68946C16.9679 3.68155 16.9145 3.65583 16.871 3.61232C16.8274 3.5688 16.7978 3.51737 16.7819 3.45803C16.7661 3.39474 16.7701 3.33144 16.7938 3.26814C16.8175 3.20089 16.867 3.14353 16.9422 3.09605C17.1123 2.98528 17.3002 2.90221 17.5059 2.84682C17.7116 2.78748 17.9233 2.75781 18.1408 2.75781C18.4296 2.75781 18.6769 2.80331 18.8826 2.8943C19.0883 2.98133 19.2446 3.10792 19.3514 3.27408C19.4622 3.43627 19.5175 3.63408 19.5175 3.86748C19.5175 4.03364 19.4859 4.18594 19.4226 4.32441C19.3593 4.45891 19.2703 4.57364 19.1556 4.66858C19.0408 4.76353 18.9024 4.83078 18.7402 4.87034V4.79913C19.025 4.8466 19.2466 4.96528 19.4048 5.15517C19.563 5.34111 19.6422 5.57452 19.6422 5.8554C19.6422 6.10067 19.5808 6.3143 19.4582 6.49627C19.3356 6.67825 19.1615 6.81869 18.936 6.91759C18.7105 7.01254 18.4415 7.06001 18.129 7.06001Z"
                                    fill="#656565"
                                /></svg
                        ></form-field-item>
                        <form-field-item
                            name="Date & Time"
                            pDraggable
                            (onDrag)="drag($event, 'drop-form')"
                            (onDragEnd)="dragEnd($event)"
                            (onDragStart)="
                                dragStart($event, 'Date & Time', 'drop-form')
                            "
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="16"
                                height="16"
                                viewBox="0 0 16 16"
                                fill="none"
                            >
                                <path
                                    d="M1.14286 5.71429V14.8571H14.8571V2.28571H12.5714V2.85714C12.5714 3.0087 12.5112 3.15404 12.4041 3.2612C12.2969 3.36837 12.1516 3.42857 12 3.42857C11.8484 3.42857 11.7031 3.36837 11.5959 3.2612C11.4888 3.15404 11.4286 3.0087 11.4286 2.85714V2.28571H4.57143V2.85714C4.57143 3.0087 4.51122 3.15404 4.40406 3.2612C4.2969 3.36837 4.15155 3.42857 4 3.42857C3.84845 3.42857 3.7031 3.36837 3.59594 3.2612C3.48878 3.15404 3.42857 3.0087 3.42857 2.85714V2.28571H1.14286V4.57143H14.8571V5.71429H1.14286ZM4.57143 1.14286H11.4286V0.571429C11.4286 0.419876 11.4888 0.274531 11.5959 0.167368C11.7031 0.0602039 11.8484 0 12 0C12.1516 0 12.2969 0.0602039 12.4041 0.167368C12.5112 0.274531 12.5714 0.419876 12.5714 0.571429V1.14286H15.4286C15.5801 1.14286 15.7255 1.20306 15.8326 1.31022C15.9398 1.41739 16 1.56273 16 1.71429V15.4286C16 15.5801 15.9398 15.7255 15.8326 15.8326C15.7255 15.9398 15.5801 16 15.4286 16H0.571429C0.419876 16 0.274531 15.9398 0.167368 15.8326C0.0602039 15.7255 0 15.5801 0 15.4286V1.71429C0 1.56273 0.0602039 1.41739 0.167368 1.31022C0.274531 1.20306 0.419876 1.14286 0.571429 1.14286H3.42857V0.571429C3.42857 0.419876 3.48878 0.274531 3.59594 0.167368C3.7031 0.0602039 3.84845 0 4 0C4.15155 0 4.2969 0.0602039 4.40406 0.167368C4.51122 0.274531 4.57143 0.419876 4.57143 0.571429V1.14286ZM4 8H5.14286C5.29441 8 5.43975 8.0602 5.54692 8.16737C5.65408 8.27453 5.71429 8.41988 5.71429 8.57143C5.71429 8.72298 5.65408 8.86833 5.54692 8.97549C5.43975 9.08265 5.29441 9.14286 5.14286 9.14286H4C3.84845 9.14286 3.7031 9.08265 3.59594 8.97549C3.48878 8.86833 3.42857 8.72298 3.42857 8.57143C3.42857 8.41988 3.48878 8.27453 3.59594 8.16737C3.7031 8.0602 3.84845 8 4 8ZM4 11.4286H5.14286C5.29441 11.4286 5.43975 11.4888 5.54692 11.5959C5.65408 11.7031 5.71429 11.8484 5.71429 12C5.71429 12.1516 5.65408 12.2969 5.54692 12.4041C5.43975 12.5112 5.29441 12.5714 5.14286 12.5714H4C3.84845 12.5714 3.7031 12.5112 3.59594 12.4041C3.48878 12.2969 3.42857 12.1516 3.42857 12C3.42857 11.8484 3.48878 11.7031 3.59594 11.5959C3.7031 11.4888 3.84845 11.4286 4 11.4286ZM7.42857 8H8.57143C8.72298 8 8.86833 8.0602 8.97549 8.16737C9.08265 8.27453 9.14286 8.41988 9.14286 8.57143C9.14286 8.72298 9.08265 8.86833 8.97549 8.97549C8.86833 9.08265 8.72298 9.14286 8.57143 9.14286H7.42857C7.27702 9.14286 7.13167 9.08265 7.02451 8.97549C6.91735 8.86833 6.85714 8.72298 6.85714 8.57143C6.85714 8.41988 6.91735 8.27453 7.02451 8.16737C7.13167 8.0602 7.27702 8 7.42857 8ZM7.42857 11.4286H8.57143C8.72298 11.4286 8.86833 11.4888 8.97549 11.5959C9.08265 11.7031 9.14286 11.8484 9.14286 12C9.14286 12.1516 9.08265 12.2969 8.97549 12.4041C8.86833 12.5112 8.72298 12.5714 8.57143 12.5714H7.42857C7.27702 12.5714 7.13167 12.5112 7.02451 12.4041C6.91735 12.2969 6.85714 12.1516 6.85714 12C6.85714 11.8484 6.91735 11.7031 7.02451 11.5959C7.13167 11.4888 7.27702 11.4286 7.42857 11.4286ZM10.8571 8H12C12.1516 8 12.2969 8.0602 12.4041 8.16737C12.5112 8.27453 12.5714 8.41988 12.5714 8.57143C12.5714 8.72298 12.5112 8.86833 12.4041 8.97549C12.2969 9.08265 12.1516 9.14286 12 9.14286H10.8571C10.7056 9.14286 10.5602 9.08265 10.4531 8.97549C10.3459 8.86833 10.2857 8.72298 10.2857 8.57143C10.2857 8.41988 10.3459 8.27453 10.4531 8.16737C10.5602 8.0602 10.7056 8 10.8571 8ZM10.8571 11.4286H12C12.1516 11.4286 12.2969 11.4888 12.4041 11.5959C12.5112 11.7031 12.5714 11.8484 12.5714 12C12.5714 12.1516 12.5112 12.2969 12.4041 12.4041C12.2969 12.5112 12.1516 12.5714 12 12.5714H10.8571C10.7056 12.5714 10.5602 12.5112 10.4531 12.4041C10.3459 12.2969 10.2857 12.1516 10.2857 12C10.2857 11.8484 10.3459 11.7031 10.4531 11.5959C10.5602 11.4888 10.7056 11.4286 10.8571 11.4286Z"
                                    fill="#656565"
                                /></svg
                        ></form-field-item>
                        <form-field-item
                            name="Checkbox"
                            pDraggable
                            (onDrag)="drag($event, 'drop-form')"
                            (onDragEnd)="dragEnd($event)"
                            (onDragStart)="
                                dragStart($event, 'Checkbox', 'drop-form')
                            "
                        >
                            <i
                                class="fa-solid fa-square-check"
                                style="font-size: 1.145rem; color: #656565"
                            ></i>
                        </form-field-item>
                        <form-field-item
                            name="Textarea"
                            pDraggable
                            (onDrag)="drag($event, 'drop-form')"
                            (onDragEnd)="dragEnd($event)"
                            (onDragStart)="
                                dragStart($event, 'Textarea', 'drop-form')
                            "
                            ><svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="28"
                                height="14"
                                viewBox="0 0 28 14"
                                fill="none"
                            >
                                <rect
                                    x="0.424242"
                                    y="0.424242"
                                    width="27.1515"
                                    height="13.1515"
                                    rx="1.27273"
                                    stroke="#656565"
                                    stroke-width="0.848485"
                                />
                                <rect
                                    x="3.25"
                                    y="3.25"
                                    width="0.5"
                                    height="4.5"
                                    rx="0.25"
                                    fill="#9F9F9F"
                                    stroke="#656565"
                                    stroke-width="0.5"
                                /></svg
                        ></form-field-item>
                        <form-field-item
                            name="Attachment"
                            pDraggable
                            (onDrag)="drag($event, 'drop-form')"
                            (onDragEnd)="dragEnd($event)"
                            (onDragStart)="
                                dragStart($event, 'Attachment', 'drop-form')
                            "
                            ><svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="16"
                                height="17"
                                viewBox="0 0 16 17"
                                fill="none"
                            >
                                <path
                                    fill-rule="evenodd"
                                    clip-rule="evenodd"
                                    d="M1.23077 0.681791C1.23077 0.845001 1.16593 1.00153 1.05053 1.11693C0.93512 1.23234 0.778595 1.29718 0.615385 1.29718C0.452174 1.29718 0.295649 1.23234 0.180242 1.11693C0.064835 1.00153 0 0.845001 0 0.681791C0 0.518581 0.064835 0.362055 0.180242 0.246648C0.295649 0.131241 0.452174 0.0664063 0.615385 0.0664062C0.778595 0.0664063 0.93512 0.131241 1.05053 0.246648C1.16593 0.362055 1.23077 0.518581 1.23077 0.681791ZM1.23077 4.98948V11.1433H14.7692V4.98948H1.23077ZM1.23077 3.75871C0.904349 3.75871 0.591298 3.88838 0.360484 4.1192C0.12967 4.35001 0 4.66306 0 4.98948V11.1433C0 11.4698 0.12967 11.7828 0.360484 12.0136C0.591298 12.2444 0.904349 12.3741 1.23077 12.3741H14.7692C15.0957 12.3741 15.4087 12.2444 15.6395 12.0136C15.8703 11.7828 16 11.4698 16 11.1433V4.98948C16 4.66306 15.8703 4.35001 15.6395 4.1192C15.4087 3.88838 15.0957 3.75871 14.7692 3.75871H1.23077ZM0.615385 16.0664C0.778595 16.0664 0.93512 16.0016 1.05053 15.8862C1.16593 15.7708 1.23077 15.6142 1.23077 15.451C1.23077 15.2878 1.16593 15.1313 1.05053 15.0159C0.93512 14.9005 0.778595 14.8356 0.615385 14.8356C0.452174 14.8356 0.295649 14.9005 0.180242 15.0159C0.064835 15.1313 0 15.2878 0 15.451C0 15.6142 0.064835 15.7708 0.180242 15.8862C0.295649 16.0016 0.452174 16.0664 0.615385 16.0664ZM3.69231 0.681791C3.69231 0.845001 3.62747 1.00153 3.51207 1.11693C3.39666 1.23234 3.24013 1.29718 3.07692 1.29718C2.91371 1.29718 2.75719 1.23234 2.64178 1.11693C2.52637 1.00153 2.46154 0.845001 2.46154 0.681791C2.46154 0.518581 2.52637 0.362055 2.64178 0.246648C2.75719 0.131241 2.91371 0.0664063 3.07692 0.0664062C3.24013 0.0664063 3.39666 0.131241 3.51207 0.246648C3.62747 0.362055 3.69231 0.518581 3.69231 0.681791ZM3.07692 16.0664C3.24013 16.0664 3.39666 16.0016 3.51207 15.8862C3.62747 15.7708 3.69231 15.6142 3.69231 15.451C3.69231 15.2878 3.62747 15.1313 3.51207 15.0159C3.39666 14.9005 3.24013 14.8356 3.07692 14.8356C2.91371 14.8356 2.75719 14.9005 2.64178 15.0159C2.52637 15.1313 2.46154 15.2878 2.46154 15.451C2.46154 15.6142 2.52637 15.7708 2.64178 15.8862C2.75719 16.0016 2.91371 16.0664 3.07692 16.0664ZM6.15385 0.681791C6.15385 0.845001 6.08901 1.00153 5.9736 1.11693C5.8582 1.23234 5.70167 1.29718 5.53846 1.29718C5.37525 1.29718 5.21873 1.23234 5.10332 1.11693C4.98791 1.00153 4.92308 0.845001 4.92308 0.681791C4.92308 0.518581 4.98791 0.362055 5.10332 0.246648C5.21873 0.131241 5.37525 0.0664063 5.53846 0.0664062C5.70167 0.0664063 5.8582 0.131241 5.9736 0.246648C6.08901 0.362055 6.15385 0.518581 6.15385 0.681791ZM5.53846 16.0664C5.70167 16.0664 5.8582 16.0016 5.9736 15.8862C6.08901 15.7708 6.15385 15.6142 6.15385 15.451C6.15385 15.2878 6.08901 15.1313 5.9736 15.0159C5.8582 14.9005 5.70167 14.8356 5.53846 14.8356C5.37525 14.8356 5.21873 14.9005 5.10332 15.0159C4.98791 15.1313 4.92308 15.2878 4.92308 15.451C4.92308 15.6142 4.98791 15.7708 5.10332 15.8862C5.21873 16.0016 5.37525 16.0664 5.53846 16.0664ZM8.61539 0.681791C8.61539 0.845001 8.55055 1.00153 8.43514 1.11693C8.31974 1.23234 8.16321 1.29718 8 1.29718C7.83679 1.29718 7.68026 1.23234 7.56486 1.11693C7.44945 1.00153 7.38462 0.845001 7.38462 0.681791C7.38462 0.518581 7.44945 0.362055 7.56486 0.246648C7.68026 0.131241 7.83679 0.0664063 8 0.0664062C8.16321 0.0664063 8.31974 0.131241 8.43514 0.246648C8.55055 0.362055 8.61539 0.518581 8.61539 0.681791ZM8 16.0664C8.16321 16.0664 8.31974 16.0016 8.43514 15.8862C8.55055 15.7708 8.61539 15.6142 8.61539 15.451C8.61539 15.2878 8.55055 15.1313 8.43514 15.0159C8.31974 14.9005 8.16321 14.8356 8 14.8356C7.83679 14.8356 7.68026 14.9005 7.56486 15.0159C7.44945 15.1313 7.38462 15.2878 7.38462 15.451C7.38462 15.6142 7.44945 15.7708 7.56486 15.8862C7.68026 16.0016 7.83679 16.0664 8 16.0664ZM11.0769 0.681791C11.0769 0.845001 11.0121 1.00153 10.8967 1.11693C10.7813 1.23234 10.6247 1.29718 10.4615 1.29718C10.2983 1.29718 10.1418 1.23234 10.0264 1.11693C9.91099 1.00153 9.84615 0.845001 9.84615 0.681791C9.84615 0.518581 9.91099 0.362055 10.0264 0.246648C10.1418 0.131241 10.2983 0.0664063 10.4615 0.0664062C10.6247 0.0664063 10.7813 0.131241 10.8967 0.246648C11.0121 0.362055 11.0769 0.518581 11.0769 0.681791ZM10.4615 16.0664C10.6247 16.0664 10.7813 16.0016 10.8967 15.8862C11.0121 15.7708 11.0769 15.6142 11.0769 15.451C11.0769 15.2878 11.0121 15.1313 10.8967 15.0159C10.7813 14.9005 10.6247 14.8356 10.4615 14.8356C10.2983 14.8356 10.1418 14.9005 10.0264 15.0159C9.91099 15.1313 9.84615 15.2878 9.84615 15.451C9.84615 15.6142 9.91099 15.7708 10.0264 15.8862C10.1418 16.0016 10.2983 16.0664 10.4615 16.0664ZM13.5385 0.681791C13.5385 0.845001 13.4736 1.00153 13.3582 1.11693C13.2428 1.23234 13.0863 1.29718 12.9231 1.29718C12.7599 1.29718 12.6033 1.23234 12.4879 1.11693C12.3725 1.00153 12.3077 0.845001 12.3077 0.681791C12.3077 0.518581 12.3725 0.362055 12.4879 0.246648C12.6033 0.131241 12.7599 0.0664063 12.9231 0.0664062C13.0863 0.0664063 13.2428 0.131241 13.3582 0.246648C13.4736 0.362055 13.5385 0.518581 13.5385 0.681791ZM12.9231 16.0664C13.0863 16.0664 13.2428 16.0016 13.3582 15.8862C13.4736 15.7708 13.5385 15.6142 13.5385 15.451C13.5385 15.2878 13.4736 15.1313 13.3582 15.0159C13.2428 14.9005 13.0863 14.8356 12.9231 14.8356C12.7599 14.8356 12.6033 14.9005 12.4879 15.0159C12.3725 15.1313 12.3077 15.2878 12.3077 15.451C12.3077 15.6142 12.3725 15.7708 12.4879 15.8862C12.6033 16.0016 12.7599 16.0664 12.9231 16.0664ZM16 0.681791C16 0.845001 15.9352 1.00153 15.8198 1.11693C15.7044 1.23234 15.5478 1.29718 15.3846 1.29718C15.2214 1.29718 15.0649 1.23234 14.9495 1.11693C14.8341 1.00153 14.7692 0.845001 14.7692 0.681791C14.7692 0.518581 14.8341 0.362055 14.9495 0.246648C15.0649 0.131241 15.2214 0.0664063 15.3846 0.0664062C15.5478 0.0664063 15.7044 0.131241 15.8198 0.246648C15.9352 0.362055 16 0.518581 16 0.681791ZM15.3846 16.0664C15.5478 16.0664 15.7044 16.0016 15.8198 15.8862C15.9352 15.7708 16 15.6142 16 15.451C16 15.2878 15.9352 15.1313 15.8198 15.0159C15.7044 14.9005 15.5478 14.8356 15.3846 14.8356C15.2214 14.8356 15.0649 14.9005 14.9495 15.0159C14.8341 15.1313 14.7692 15.2878 14.7692 15.451C14.7692 15.6142 14.8341 15.7708 14.9495 15.8862C15.0649 16.0016 15.2214 16.0664 15.3846 16.0664Z"
                                    fill="#656565"
                                /></svg
                        ></form-field-item>
                        <form-field-item
                            name="Switch"
                            pDraggable
                            (onDrag)="drag($event, 'drop-form')"
                            (onDragEnd)="dragEnd($event)"
                            (onDragStart)="
                                dragStart($event, 'Switch', 'drop-form')
                            "
                        >
                            <i
                                class="fa-solid fa-toggle-off"
                                style="font-size: 1.145rem; color: #656565"
                            ></i> </form-field-item
                        ><form-field-item
                            name="Radio"
                            pDraggable
                            (onDrag)="drag($event, 'drop-form')"
                            (onDragEnd)="dragEnd($event)"
                            (onDragStart)="
                                dragStart($event, 'Radio', 'drop-form')
                            "
                        >
                            <i
                                class="fa-solid fa-circle-dot"
                                style="font-size: 1.145rem; color: #656565"
                            ></i>
                        </form-field-item></div
                ></sidebar-section>
            </p-tabPanel>
            <p-tabPanel header="Settings">
                <div class="mb-4">
                    <div class="mb-2">
                        <label for="endpointUrl">URI</label>
                    </div>
                    <input
                        id="endpointUrl"
                        type="text"
                        class="w-full"
                        style="background: #fff"
                        placeholder="URI"
                        pInputText
                        [value]="data.uri"
                        (change)="updateInputData($event, 'uri')"
                    />
                </div>
                <div class="mb-4">
                    <div class="mb-2">
                        <label for="successUrl">Success URL</label>
                    </div>
                    <input
                        id="successUrl"
                        type="text"
                        class="w-full"
                        style="background: #fff"
                        placeholder="Success  URL"
                        pInputText
                        [value]="data.successUrl"
                        (change)="updateInputData($event, 'successUrl')"
                    />
                </div>
                <div class="mb-4">
                    <div class="mb-2">
                        <label for="cancelUrl">Cancel URL</label>
                    </div>
                    <input
                        id="cancelUrl"
                        type="text"
                        class="w-full"
                        style="background: #fff"
                        placeholder="Cancel URL"
                        pInputText
                        [value]="data.cancelUrl"
                        (change)="updateInputData($event, 'cancelUrl')"
                    />
                </div>
            </p-tabPanel>
        </p-tabView>

        <button
            class="mt-4 w-full"
            label="View"
            pButton
            [routerLink]="['/util/dynamic-form/preview']"
        ></button>
    </div>

    <div class="editor" cdk-scrollable>
        <div
            cdkDropList
            [cdkDropListData]="data.elements"
            (cdkDropListDropped)="drop($event)"
        >
            <ng-container cdkDropListGroup>
                <ng-container
                    *ngFor="let element of data.elements; let dataIndex = index"
                >
                    <div
                        class="section drop-section"
                        cdkDrag
                        pDroppable
                        [id]="element.id"
                        (onDrop)="dropToSection($event, dataIndex)"
                        (onDragEnter)="
                            removeDropIndicatorOnDropSectionWhenSectionHasFilled(
                                $event,
                                dataIndex,
                                element.type
                            )
                        "
                        (onDragLeave)="
                            handleDropSectionDragLeave(
                                $event,
                                dataIndex,
                                element.type
                            )
                        "
                        (cdkDragStarted)="onCdkDragStartedDropSection($event)"
                    >
                        <div
                            class="drop-section drop-section--placeholder"
                            *cdkDragPlaceholder
                        ></div>

                        <section-preview
                            *cdkDragPreview
                            [title]="element.title"
                            [dropSectionWidth]="dropSectionWidth"
                        ></section-preview>

                        <move
                            class="section-move"
                            cdkDragHandle
                            tooltipPosition="left"
                            [pTooltip]="tooltipContent"
                        ></move>

                        <div class="section-header">
                            <input
                                class="section-title"
                                [value]="element.title"
                                (change)="updateTitleSection($event, dataIndex)"
                            />
                            <i
                                class="fa-solid fa-trash cursor-pointer"
                                tooltipPosition="left"
                                [title]="element.title"
                                [escape]="false"
                                [pTooltip]="
                                    'Remove <b>' +
                                    element.title +
                                    '</b> section?'
                                "
                                (click)="
                                    removeSectionData(dataIndex, element.title)
                                "
                            ></i>
                        </div>

                        <div class="vertical-space"></div>

                        <ng-container
                            *ngFor="
                                let dataComponent of element.components;
                                let dataComponentIndex = index
                            "
                        >
                            <div
                                class="drop-section-item"
                                *ngIf="dataComponent.type === 'Form'"
                            >
                                <div
                                    class="drop-section-list"
                                    *ngFor="
                                        let formComponents of dataComponent.components;
                                        let formComponentIndex = index
                                    "
                                    cdkDropList
                                    [id]="
                                        'drop-section-list-' +
                                        element.id +
                                        '-' +
                                        formComponentIndex
                                    "
                                    [cdkDropListData]="formComponents"
                                    (cdkDropListDropped)="drop($event)"
                                    (onDrop)="
                                        dropToFormColumn(
                                            $event,
                                            dataIndex,
                                            dataComponentIndex,
                                            formComponentIndex
                                        )
                                    "
                                >
                                    <l-box
                                        *ngFor="
                                            let component of formComponents;
                                            let componentIndex = index
                                        "
                                        cdkDrag
                                        [data]="component"
                                        [type]="component.type"
                                        (cdkDragStarted)="
                                            onCdkDragStartedDropSectionList(
                                                $event
                                            )
                                        "
                                        (onSave)="updateBoxData($event, {
                                            dataIndex,
                                            dataComponentIndex,
                                            formComponentIndex,
                                            componentIndex,
                                        })"
                                        (onRemove)="removeBoxData({
                                            dataIndex,
                                            dataComponentIndex,
                                            formComponentIndex,
                                            componentIndex,
                                        })"
                                    >
                                        <move
                                            class="item-move"
                                            cdkDragHandle
                                            tooltipPosition="left"
                                        ></move>

                                        <div
                                            class="drop-section-item drop-section-item--placeholder"
                                            *cdkDragPlaceholder
                                        ></div>

                                        <item-preview
                                            *cdkDragPreview
                                            [type]="component.type"
                                            [title]="component.label"
                                            [required]="component.required"
                                            [dropListWidth]="
                                                dropSectionListWidth
                                            "
                                        ></item-preview>
                                    </l-box>

                                    <div
                                        class="drop-form"
                                        *ngIf="
                                            isDragToForm ||
                                            (!formComponents.length &&
                                                !isSectionListItemDragging)
                                        "
                                        id="{{ dataComponent.id }}"
                                        pDroppable
                                        (onDrop)="
                                            dropToFormColumn($event, {
                                                dataIndex,
                                                dataComponentIndex,
                                                formComponentIndex,
                                            })
                                        "
                                        (onDragEnter)="
                                            removeDropIndicatorOnDropSectionWhenSectionHasFilled(
                                                $event,
                                                dataIndex
                                            )
                                        "
                                    >
                                        <p>Drag and drop a field here</p>
                                    </div>
                                </div>
                            </div>

                            <l-box-table
                                class="drop-section-list"
                                *ngIf="dataComponent.type === 'Table'"
                                [data]="dataComponent"
                                [type]="dataComponent.type"
                                (onSave)="updateBoxData($event, {
                                    dataIndex,
                                    dataComponentIndex
                                }, dataComponent.type)"
                            >
                            </l-box-table>
                        </ng-container>

                        <p
                            class="section-placeholder"
                            *ngIf="!element.components.length"
                        >
                            Drag and drop a element type here
                        </p>
                    </div>
                </ng-container>
            </ng-container>
        </div>

        <div class="create-new-section">
            <div class="create-new-section__icon-wrapper">
                <i class="fa-solid fa-plus"></i>
            </div>
            <p class="create-new-section__text" (click)="addNewSection($event)">
                Create a New Section
            </p>
        </div>
    </div>
</div>

<p-toast></p-toast>

<p-confirmDialog [style]="{ width: '50vw' }"></p-confirmDialog>

<ng-template #tooltipContent>
    <div class="flex flex-column" style="gap: 4px">
        <div><b>Drag</b> to move</div>
        <div><b>Click</b> to Open Menu</div>
    </div>
</ng-template>
