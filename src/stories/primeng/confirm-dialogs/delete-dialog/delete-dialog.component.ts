import { Component, EventEmitter, Input, Output } from "@angular/core";
import { BrowserAnimationsModule } from "@angular/platform-browser/animations";

@Component({
    selector: 'delete-dialog',
    template: `
    <button pButton label="Show" (click)="showDialog()"></button>
    <p-dialog [(visible)]="display" [baseZIndex]="10000" [modal]="true" [draggable]="false">
        <ng-template pTemplate="header">
            <div class="dialog-header">
                <div>
                <svg width="24" height="24" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.2602 3.3999H5.63146C5.54102 3.04515 5.53245 2.67433 5.60642 2.31575C5.68039 1.95717 5.83494 1.62031 6.05828 1.33089C6.28161 1.04146 6.56782 0.807133 6.89505 0.645784C7.22229 0.484435 7.58189 0.400334 7.94642 0.399902C8.31084 0.400516 8.67031 0.484751 8.99739 0.646179C9.32448 0.807606 9.61053 1.04196 9.83373 1.33136C10.0569 1.62076 10.2114 1.95755 10.2853 2.31604C10.3592 2.67454 10.3506 3.04525 10.2602 3.3999Z" fill="#D85454"/>
                <path d="M1.37615 4.59971C1.05934 4.59971 0.755517 4.47328 0.531504 4.24823C0.30749 4.02319 0.181641 3.71797 0.181641 3.39971C0.181641 3.08145 0.30749 2.77622 0.531504 2.55118C0.755517 2.32614 1.05934 2.19971 1.37615 2.19971H14.5157C14.8325 2.19971 15.1364 2.32614 15.3604 2.55118C15.5844 2.77622 15.7102 3.08145 15.7102 3.39971C15.7102 3.71797 15.5844 4.02319 15.3604 4.24823C15.1364 4.47328 14.8325 4.59971 14.5157 4.59971H1.37615Z" fill="#D85454"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M13.322 20.1997C13.6388 20.1997 13.9427 20.0733 14.1667 19.8482C14.3907 19.6232 14.5165 19.318 14.5165 18.9997V6.39971C14.5165 6.08145 14.3907 5.77622 14.1667 5.55118C13.9427 5.32614 13.6388 5.19971 13.322 5.19971H2.57146C2.25466 5.19971 1.95083 5.32614 1.72682 5.55118C1.5028 5.77622 1.37695 6.08145 1.37695 6.39971V18.9997C1.37695 19.318 1.5028 19.6232 1.72682 19.8482C1.95083 20.0733 2.25466 20.1997 2.57146 20.1997H13.322ZM10.933 8.19971C10.933 8.04058 10.9959 7.88796 11.1079 7.77544C11.2199 7.66292 11.3719 7.59971 11.5303 7.59971C11.6887 7.59971 11.8406 7.66292 11.9526 7.77544C12.0646 7.88796 12.1275 8.04058 12.1275 8.19971V16.5997C12.1275 16.7588 12.0646 16.9115 11.9526 17.024C11.8406 17.1365 11.6887 17.1997 11.5303 17.1997C11.3719 17.1997 11.2199 17.1365 11.1079 17.024C10.9959 16.9115 10.933 16.7588 10.933 16.5997V8.19971ZM7.94674 7.59971C7.78834 7.59971 7.63643 7.66292 7.52442 7.77544C7.41241 7.88796 7.34949 8.04058 7.34949 8.19971V16.5997C7.34949 16.7588 7.41241 16.9115 7.52442 17.024C7.63643 17.1365 7.78834 17.1997 7.94674 17.1997C8.10514 17.1997 8.25706 17.1365 8.36906 17.024C8.48107 16.9115 8.544 16.7588 8.544 16.5997V8.19971C8.544 8.04058 8.48107 7.88796 8.36906 7.77544C8.25706 7.66292 8.10514 7.59971 7.94674 7.59971ZM3.76597 8.19971C3.76597 8.04058 3.82889 7.88796 3.9409 7.77544C4.05291 7.66292 4.20482 7.59971 4.36322 7.59971C4.52162 7.59971 4.67354 7.66292 4.78554 7.77544C4.89755 7.88796 4.96047 8.04058 4.96047 8.19971V16.5997C4.96047 16.7588 4.89755 16.9115 4.78554 17.024C4.67354 17.1365 4.52162 17.1997 4.36322 17.1997C4.20482 17.1997 4.05291 17.1365 3.9409 17.024C3.82889 16.9115 3.76597 16.7588 3.76597 16.5997V8.19971Z" fill="#D85454"/>
                </svg>
                </div>
                <div>
                    <span>Delete Data</span>
                </div>
            </div>
        </ng-template>
        <ng-template pTemplate="content">
            <span>
                {{message}}
            </span>
        </ng-template>
        <ng-template pTemplate="footer">
            <button pButton ngClass="primary" label="Yes" (click)="onAccept()"></button>
            <button pButton ngClass="secondary" label="No" (click)="onReject()"></button>
        </ng-template>
    </p-dialog>
    `,
    styleUrls: ['./delete-dialog.component.css'],
    providers: [BrowserAnimationsModule]
})

export class DeleteDialogComponent {
    @Input() message: string = "Are you sure to delete this data?";
    @Output() accept = new EventEmitter<any>();
    display: boolean = false;

    showDialog() {
        this.display = true;
    }

    onAccept() {
        this.accept.emit(true);
        this.display = false;
    }

    onReject() {
        this.display = false;
    }
}